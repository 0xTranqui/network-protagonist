# ================================
# ======== ID REGISTRY ===========
# ================================

type IdRegistry @entity {
  id: String!
  to: String
  from: String
  userId: BigInt
  backup: Bytes
  data: String
  attestor: String

}

# ================================
# ====== DELEGATE REGISTRY =======
# ================================

type DelegateRegistry @entity {
  id: String!
  userId: BigInt!
  transferNonce: BigInt!
  target: String!
  status: Boolean!
}

# ================================
# ======== NODE REGISTRY =========
# ================================

type Schema @entity {
  id: String!
  sender: String!
  schema: Bytes!
  data: Bytes
}

type Node @entity {
  id: String!
  sender: String!
  nodeId: BigInt!
  userId: BigInt!
  schema: String!
  msgType: BigInt!
  msgBody: Bytes!
  nodeAdmin: BigInt!
  nodeMembers: [BigInt]!
}

type Call @entity {
  id: String!
  sender: String!
  nodeId: BigInt!
  schema: Bytes!
  userId: BigInt!
  msgType: BigInt!
  msgBody: Bytes!
}

type Publication @entity {
  id: String!
  uri: String!
}

type Item @entity {
  id: String!
  chainId: BigInt!
  targetId: BigInt!
  target: String!
  hasId: Boolean!
  channel: Channel!
}

type Channel @entity {
  id: String!
  items: [Item!]! @derivedFrom(field: "channel")
}

# ================================
# ====== RIVER VALIDATOR V1 ======
# ================================

type RiverValidatorV1 @entity {
  id: String!
  userId: BigInt!
  status: Boolean!
}